---
import { actions } from "astro:actions"
---

<section class="w-full max-w-2xl mx-auto p-6">
	<form action={actions.send} method="POST" id="contact-form" class="space-y-6">
		<div>
			<label for="name" class="block text-sm font-medium text-gray-700 mb-2">
				Nome
			</label>
			<input
				type="text"
				id="name"
				name="name"
				required
				class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"
				placeholder="Seu nome completo"
			/>
		</div>

		<div>
			<label for="email" class="block text-sm font-medium text-gray-700 mb-2">
				Email
			</label>
			<input
				type="email"
				id="email"
				name="email"
				required
				class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"
				placeholder="seu@email.com"
			/>
		</div>

		<div>
			<label for="message" class="block text-sm font-medium text-gray-700 mb-2">
				Mensagem
			</label>
			<textarea
				id="message"
				name="message"
				required
				rows="5"
				class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition resize-none"
				placeholder="Escreva sua mensagem aqui..."></textarea>
		</div>

		<button
			type="submit"
			class="w-full bg-surface-alt text-white font-semibold py-3 px-6 rounded-lg hover:bg-emphasis focus:ring-4 focus:ring-blue-300 transition duration-200"
		>
			Enviar Mensagem
		</button>

		<div id="form-message" class="hidden text-center p-4 rounded-lg"></div>
	</form>
</section>

<!-- <script>
	const form = document.getElementById("contact-form") as HTMLFormElement
	const messageDiv = document.getElementById("form-message") as HTMLDivElement

	form.addEventListener("submit", async (e: Event) => {
		e.preventDefault()

		const formData = new FormData(form)
		const data = {
			name: formData.get("name") as string,
			email: formData.get("email") as string,
			subject: formData.get("subject") as string,
			message: formData.get("message") as string,
		}

		try {
			// Aqui você faria a requisição para sua API
			// const response = await fetch('/api/contact', {
			//   method: 'POST',
			//   headers: { 'Content-Type': 'application/json' },
			//   body: JSON.stringify(data),
			// });

			// Simulação de sucesso
			messageDiv.textContent = "Mensagem enviada com sucesso!"
			messageDiv.className =
				"text-center p-4 rounded-lg bg-green-100 text-green-700"
			messageDiv.classList.remove("hidden")

			form.reset()

			setTimeout(() => {
				messageDiv.classList.add("hidden")
			}, 5000)
		} catch (error) {
			messageDiv.textContent = "Erro ao enviar mensagem. Tente novamente."
			messageDiv.className =
				"text-center p-4 rounded-lg bg-red-100 text-red-700"
			messageDiv.classList.remove("hidden")
		}
	})
</script> -->
